<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trinkets - אוסף ייחודי</title>
    
    <!-- ספריית Three.js לתלת מימד -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- אייקון האתר (Favicon) - T בתוך עיגול סגול -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23c026d3;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23701a75;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='16' cy='16' r='16' fill='url(%23grad)' /%3E%3Ctext x='15' y='17' font-family='Arial, sans-serif' font-weight='bold' font-size='19' text-anchor='middle' dominant-baseline='middle' fill='white'%3ET%3C/text%3E%3C/svg%3E">

    <!-- ייבוא פונט Rubik לעברית -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- הגדרות עיצוב מותאמות אישית -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Rubik', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#4a044e',   // סגול חציל כהה מאוד לטקסט
                        'secondary': '#86198f', // סגול בינוני
                        'accent': '#d946ef',    // פוקסיה זוהרת
                        'card-bg': '#ffffff',   // רקע הקוביות
                        'main-bg': '#ffffff',   // רקע האתר - לבן נקי
                    },
                    backgroundImage: {
                        'gradient-main': 'linear-gradient(135deg, #c026d3 0%, #701a75 100%)', // גראדיינט פוקסיה לסגול כהה
                        'gradient-card': 'linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(74, 4, 78, 0.8) 100%)',
                        'gradient-dark': 'linear-gradient(135deg, #1a0b2e 0%, #000000 100%)', // רקע כהה לעמוד עיצוב
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(192, 38, 211, 0.15)', // צללית סגלגלה עדינה
                        'glow': '0 0 20px rgba(217, 70, 239, 0.5)', // אפקט זוהר
                    }
                }
            }
        }
    </script>

    <style>
        /* יצירת טקסטורה עדינה לרקע */
        body {
            background-color: #ffffff;
            background-image: 
                radial-gradient(#f0abfc 0.5px, transparent 0.5px),
                radial-gradient(#f0abfc 0.5px, transparent 0.5px);
            background-size: 24px 24px;
            background-position: 0 0, 12px 12px;
        }

        /* סגנון גלילה מודרני */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #ffffff; 
        }
        ::-webkit-scrollbar-thumb {
            background: #e879f9; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #c026d3; 
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 30px -5px rgba(192, 38, 211, 0.2), 0 10px 10px -5px rgba(192, 38, 211, 0.1);
        }

        /* אנימציה להודעת Toast */
        @keyframes slideIn {
            from { transform: translateX(-50%) translateY(100%); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .toast-notification {
            animation: slideIn 0.3s ease-out forwards;
        }
        .toast-notification.hiding {
            animation: fadeOut 0.3s ease-in forwards;
        }

        /* אנימציית מעבר בין דפים */
        .fade-in {
            animation: fadeIn 0.4s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* סגנון זכוכית מגדלת */
        .magnify-container {
            overflow: hidden;
            position: relative;
            cursor: zoom-in;
        }
        .magnify-img {
            transition: transform 0.1s ease-out;
            transform-origin: center center;
        }
        .magnify-container:hover .magnify-img {
            transform: scale(2); /* עוצמת הזום */
        }

        /* עגלת קניות צדדית */
        #cart-sidebar {
            transition: transform 0.3s ease-in-out;
        }
        #cart-sidebar.open {
            transform: translateX(0);
        }
        #cart-overlay.open {
            display: block;
        }

        /* מכולה לקנבס התלת מימד */
        #three-container {
            width: 100%;
            height: 100%;
            display: block;
            border-radius: 20px;
            overflow: hidden;
            background: radial-gradient(circle at center, #2d1b4e 0%, #000 100%);
        }
        
        /* סטייל לסליידר וסלקט */
        .custom-range {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
        }
        .custom-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #d946ef;
            cursor: pointer;
            transition: background .15s ease-in-out;
        }
        .custom-range::-webkit-slider-thumb:hover {
            background: #f0abfc;
        }
        
        .custom-select {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .custom-select option {
            background-color: #1a0b2e;
            color: white;
        }
    </style>
</head>
<body class="text-primary antialiased min-h-screen flex flex-col relative overflow-x-hidden">

    <!-- מסך חשוך לרקע של העגלה -->
    <div id="cart-overlay" class="fixed inset-0 bg-black/50 z-40 hidden backdrop-blur-sm" onclick="toggleCart()"></div>

    <!-- סרגל צד עגלת קניות -->
    <div id="cart-sidebar" class="fixed top-0 left-0 h-full w-full max-w-md bg-white z-50 shadow-2xl transform -translate-x-full flex flex-col">
        <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-purple-50">
            <h2 class="text-2xl font-bold text-primary">סל הקניות שלי</h2>
            <button onclick="toggleCart()" class="text-gray-500 hover:text-red-500 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        
        <div id="cart-items-container" class="flex-1 overflow-y-auto p-6 space-y-6">
            <div class="text-center text-gray-500 mt-10">
                <p>הסל שלך ריק כרגע...</p>
            </div>
        </div>

        <div class="p-6 border-t border-gray-100 bg-gray-50">
            <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-medium text-gray-600">סה"כ לתשלום:</span>
                <span id="cart-total-sidebar" class="text-2xl font-bold text-primary">₪0</span>
            </div>
            <div class="flex flex-col gap-3">
                <button onclick="showPage('cart')" class="w-full bg-white border border-primary text-primary py-3 rounded-xl font-bold hover:bg-purple-50 transition">
                    מעבר לסל המלא
                </button>
                <button onclick="showToast('מעבר לתשלום מאובטח...')" class="w-full bg-gradient-main text-white py-3 rounded-xl font-bold hover:shadow-lg hover:shadow-fuchsia-200 transition">
                    לתשלום
                </button>
            </div>
        </div>
    </div>

    <!-- ניווט עליון -->
    <nav class="w-full bg-white/90 backdrop-blur-md sticky top-0 z-30 border-b border-fuchsia-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="showPage('home')">
                    <div class="w-8 h-8 bg-gradient-main rounded-full flex items-center justify-center text-white font-bold shadow-lg shadow-fuchsia-200">T</div>
                    <span class="font-bold text-xl tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-purple-800 to-fuchsia-600">TRINKETS</span>
                </div>
                <div class="hidden md:flex space-x-8 space-x-reverse">
                    <a href="#" onclick="showPage('home')" class="text-gray-800 hover:text-accent font-medium px-3 py-2 transition-colors">קולקציות</a>
                    <a href="#new" onclick="showPage('home')" class="text-gray-600 hover:text-accent font-medium px-3 py-2 transition-colors">חדש באתר</a>
                    <a href="#about" onclick="showPage('about')" class="text-gray-600 hover:text-accent font-medium px-3 py-2 transition-colors">אודות</a>
                    <a href="#contact" onclick="showPage('contact')" class="text-gray-600 hover:text-accent font-medium px-3 py-2 transition-colors">צור קשר</a>
                </div>
                <div class="flex items-center gap-4">
                    <button class="text-gray-500 hover:text-accent transition-colors" onclick="showToast('החיפוש יפתח בקרוב...')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <!-- כפתור העגלה -->
                    <button class="text-gray-500 hover:text-accent transition-colors relative" onclick="toggleCart()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                        </svg>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-gradient-main text-white text-xs w-4 h-4 rounded-full flex items-center justify-center shadow-md hidden">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- דף הבית -->
    <main id="home-page" class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        
        <!-- כותרת ראשית -->
        <header class="mb-12 text-center" id="new">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-900 to-fuchsia-600 pb-2">הקולקציה החדשה</h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">פריטים שנבחרו בקפידה עם תשומת לב לפרטים הקטנים. עיצוב המשלב יוקרה עם צבעוניות נועזת.</p>
        </header>

        <!-- חלק 1: גריד Bento ראשי -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 auto-rows-[250px] mb-20" id="collections">
            
            <!-- קוביה גדולה ראשית (תמונה וטקסט) - תופסת 2x2 -->
            <div class="md:col-span-2 md:row-span-2 bg-white rounded-2xl overflow-hidden shadow-soft card-hover group relative border border-fuchsia-50">
                <!-- תמונה של דוגמנית עם תכשיטים סגולים/יוקרתיים -->
                <img src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?q=80&w=800&auto=format&fit=crop" alt="Royal Jewelry Set" class="w-full h-full object-cover transition duration-700 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-purple-900/90 via-purple-800/40 to-transparent flex flex-col justify-end p-8">
                    <span class="text-fuchsia-200 text-sm font-medium mb-2 tracking-wider uppercase">הכי נמכר</span>
                    <h2 class="text-white text-3xl font-bold mb-2">סט מלכותי</h2>
                    <button class="bg-white text-purple-900 px-6 py-2 rounded-full font-medium w-max hover:bg-fuchsia-50 transition mt-2 shadow-lg" onclick="showPage('product')">קנה עכשיו</button>
                </div>
            </div>

            <!-- קוביה רגילה - מוצר 1 -->
            <div class="bg-white rounded-2xl p-4 shadow-soft card-hover flex flex-col justify-between border border-fuchsia-50">
                <div class="relative w-full h-40 bg-purple-50 rounded-xl overflow-hidden mb-3">
                    <!-- תמונה של טבעת סגולה/כסופה -->
                    <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?q=80&w=400&auto=format&fit=crop" alt="Ring" class="w-full h-full object-cover opacity-90 hover:opacity-100 transition cursor-pointer" onclick="showToast('טבעת חותם נוספה לסל!', 'success')">
                    <button class="absolute top-2 right-2 bg-white p-1.5 rounded-full shadow-sm text-gray-400 hover:text-fuchsia-500 hover:bg-fuchsia-50 transition" onclick="showToast('נוסף למועדפים!')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                    </button>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-primary cursor-pointer" onclick="showToast('מעבר לעמוד מוצר...')">טבעת חותם</h3>
                    <div class="flex justify-between items-center mt-1">
                        <span class="text-secondary text-sm">כסף טהור</span>
                        <span class="font-bold text-accent">₪290</span>
                    </div>
                    <button onclick="addToCart('signet-ring', 'טבעת חותם', 290, 'https://images.unsplash.com/photo-1605100804763-247f67b3557e?q=80&w=200&auto=format&fit=crop')" class="w-full mt-3 bg-purple-50 text-primary text-sm py-2 rounded-lg hover:bg-accent hover:text-white transition">הוספה לסל</button>
                </div>
            </div>

            <!-- קוביה רגילה - טקסט בלבד / מבצע -->
            <div class="bg-gradient-main text-white rounded-2xl p-6 shadow-soft card-hover flex flex-col justify-center items-center text-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-24 h-24 bg-white/20 rounded-bl-full blur-md"></div>
                <div class="absolute bottom-0 left-0 w-20 h-20 bg-purple-900/30 rounded-tr-full blur-sm"></div>
                <h3 class="text-2xl font-bold mb-2 relative z-10">20% הנחה</h3>
                <p class="text-fuchsia-100 text-sm mb-4 relative z-10">על כל קולקציית הערב בשימוש בקוד <span class="font-bold text-white cursor-pointer hover:underline" onclick="copyCode('PURPLE20')">PURPLE20</span></p>
                <button class="border border-white/40 bg-white/10 backdrop-blur-sm px-5 py-2 rounded-full text-sm hover:bg-white hover:text-purple-700 transition relative z-10 font-medium" onclick="showPage('promo')">לפרטים נוספים</button>
            </div>

             <!-- קוביה רחבה - קטגוריה - תופסת 2 רוחב -->
             <div class="md:col-span-2 bg-[#fdf4ff] rounded-2xl p-6 shadow-soft card-hover flex flex-row items-center gap-6 relative overflow-hidden border border-fuchsia-100">
                 <div class="absolute -right-10 -bottom-10 w-48 h-48 bg-fuchsia-200 rounded-full blur-3xl opacity-50"></div>
                 <div class="flex-1 relative z-10">
                    <span class="text-accent text-sm font-bold tracking-wider uppercase">חדש</span>
                    <h3 class="text-2xl font-bold mt-1 mb-2 text-primary">אבני חן סגולות</h3>
                    <p class="text-gray-600 text-sm mb-4">אמטיסט, רובי וספיר בשילובים עוצרי נשימה.</p>
                    <a href="#" class="text-purple-800 font-bold underline decoration-2 decoration-fuchsia-300 underline-offset-4 hover:text-accent hover:decoration-accent transition" onclick="showPage('purple-collection')">צפה בקולקציה</a>
                 </div>
                 <div class="w-1/3 h-full">
                     <img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover rounded-xl shadow-sm ring-1 ring-purple-100" alt="Purple Gemstone">
                 </div>
            </div>

            <!-- קוביה רגילה - מוצר 2 -->
            <div class="bg-white rounded-2xl p-4 shadow-soft card-hover flex flex-col justify-between border border-fuchsia-50">
                <div class="relative w-full h-40 bg-purple-50 rounded-xl overflow-hidden mb-3">
                    <img src="https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?q=80&w=400&auto=format&fit=crop" alt="Earrings" class="w-full h-full object-cover mix-blend-multiply cursor-pointer" onclick="showToast('עגילי חישוק נוספו לסל!', 'success')">
                </div>
                <div>
                    <h3 class="font-bold text-lg text-primary cursor-pointer" onclick="showToast('מעבר לעמוד מוצר...')">עגילי חישוק</h3>
                    <div class="flex justify-between items-center mt-1">
                        <span class="text-secondary text-sm">ציפוי זהב</span>
                        <span class="font-bold text-accent">₪150</span>
                    </div>
                    <button onclick="addToCart('hoop-earrings', 'עגילי חישוק', 150, 'https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?q=80&w=200&auto=format&fit=crop')" class="w-full mt-3 bg-purple-50 text-primary text-sm py-2 rounded-lg hover:bg-accent hover:text-white transition">הוספה לסל</button>
                </div>
            </div>

            <!-- קוביה רגילה - מוצר 3 -->
            <div class="bg-white rounded-2xl p-4 shadow-soft card-hover flex flex-col justify-between border border-fuchsia-50">
                <div class="relative w-full h-40 bg-purple-50 rounded-xl overflow-hidden mb-3">
                    <img src="https://images.unsplash.com/photo-1573408301185-9146fe634ad0?q=80&w=400&auto=format&fit=crop" alt="Bracelet" class="w-full h-full object-cover mix-blend-multiply cursor-pointer" onclick="showToast('צמיד עדין נוסף לסל!', 'success')">
                </div>
                <div>
                    <h3 class="font-bold text-lg text-primary cursor-pointer" onclick="showToast('מעבר לעמוד מוצר...')">צמיד עדין</h3>
                    <div class="flex justify-between items-center mt-1">
                        <span class="text-secondary text-sm">זהב 14K</span>
                        <span class="font-bold text-accent">₪420</span>
                    </div>
                    <button onclick="addToCart('delicate-bracelet', 'צמיד עדין', 420, 'https://images.unsplash.com/photo-1573408301185-9146fe634ad0?q=80&w=200&auto=format&fit=crop')" class="w-full mt-3 bg-purple-50 text-primary text-sm py-2 rounded-lg hover:bg-accent hover:text-white transition">הוספה לסל</button>
                </div>
            </div>
        </div>

        <!-- חלק 2: המשך הקולקציה / קטגוריות נוספות -->
        <div class="mb-20">
             <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-bold text-primary">לפי סגנון</h2>
                <a href="#" class="text-accent font-medium hover:text-secondary transition" onclick="showToast('טוען את כל הקולקציות...')">צפה בהכל &larr;</a>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <!-- קטגוריה 1 - זהב -->
                <a href="javascript:void(0)" class="group relative rounded-2xl overflow-hidden aspect-square shadow-soft" onclick="openCategoryPage('gold')">
                    <img src="https://images-aka.kayoutlet.com/kayoutlet/gold-jewelry/discount-yellow-gold-jewelry.jpg" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" alt="Gold Jewelry">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition flex items-center justify-center">
                        <h3 class="text-white text-xl font-bold bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30">זהב</h3>
                    </div>
                </a>
                <!-- קטגוריה 2 - כסף -->
                <a href="javascript:void(0)" class="group relative rounded-2xl overflow-hidden aspect-square shadow-soft" onclick="openCategoryPage('silver')">
                    <img src="https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" alt="Silver Jewelry">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition flex items-center justify-center">
                        <h3 class="text-white text-xl font-bold bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30">כסף</h3>
                    </div>
                </a>
                <!-- קטגוריה 3 - יהלומים -->
                <a href="javascript:void(0)" class="group relative rounded-2xl overflow-hidden aspect-square shadow-soft" onclick="openCategoryPage('diamond')">
                    <img src="https://images.unsplash.com/photo-1605648916361-9bc12ad6a569?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" alt="Diamonds">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition flex items-center justify-center">
                        <h3 class="text-white text-xl font-bold bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30">יהלומים</h3>
                    </div>
                </a>
                <!-- קטגוריה 4 - רוז גולד -->
                <a href="javascript:void(0)" class="group relative rounded-2xl overflow-hidden aspect-square shadow-soft" onclick="openCategoryPage('rose-gold')">
                    <img src="https://www.brilliance.com/front/img/src/assets/images/education/style-guide-rose-gold-engagement-ring-marquise..jpeg" class="w-full h-full object-cover transition duration-500 group-hover:scale-110" alt="Rose Gold">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition flex items-center justify-center">
                        <h3 class="text-white text-xl font-bold bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30">רוז גולד</h3>
                    </div>
                </a>
            </div>
        </div>

        <!-- חלק נוסף (באמצע): סקשן מודגש "קולקציית חצות" -->
        <section class="mb-20 relative overflow-hidden rounded-3xl bg-primary text-white shadow-2xl">
            <!-- אלמנטים דקורטיביים ברקע -->
            <div class="absolute top-0 right-0 w-96 h-96 bg-accent/20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2"></div>
            <div class="absolute bottom-0 left-0 w-64 h-64 bg-purple-600/40 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/3"></div>
            
            <div class="relative z-10 flex flex-col md:flex-row items-center">
                <div class="p-8 md:p-16 md:w-1/2 text-right">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="w-8 h-[1px] bg-accent"></span>
                        <span class="text-accent font-bold tracking-widest text-sm uppercase">Limited Edition</span>
                    </div>
                    <h2 class="text-3xl md:text-5xl font-bold mb-6 leading-tight">קולקציית<br><span class="text-transparent bg-clip-text bg-gradient-to-l from-fuchsia-400 to-white">חצות</span></h2>
                    <p class="text-purple-100 mb-8 leading-relaxed text-lg max-w-md ml-auto">
                        עיצובים דרמטיים בהשראת שמי הלילה. משובצים באבני ספיר כהות, יהלומים שחורים ונגיעות של זהב טהור. כל פריט הוא יצירה חד-פעמית.
                    </p>
                    <div class="flex gap-4">
                        <button class="bg-gradient-to-r from-fuchsia-600 to-purple-600 text-white px-8 py-3 rounded-full font-bold hover:shadow-lg hover:shadow-fuchsia-900/50 transition transform hover:-translate-y-1" onclick="addToCart('midnight-col', 'קולקציית חצות (מארז)', 3500, 'https://images.unsplash.com/photo-1601121141461-9d6647bca1ed?q=80&w=200&auto=format&fit=crop')">לרכישה עכשיו</button>
                        <button class="px-8 py-3 rounded-full font-bold border border-white/20 hover:bg-white/10 transition backdrop-blur-sm" onclick="showToast('פותח גלריית חצות...')">לגלות עוד</button>
                    </div>
                </div>
                <div class="md:w-1/2 h-80 md:h-[500px] w-full relative group">
                    <img src="https://images.unsplash.com/photo-1601121141461-9d6647bca1ed?q=80&w=800&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Midnight Collection">
                    <div class="absolute inset-0 bg-gradient-to-t md:bg-gradient-to-l from-transparent via-primary/20 to-primary"></div>
                </div>
            </div>
        </section>

        <!-- סקשן חדש (טקסט + כפתורים ותמונה משמאל) - תמונה מתוקנת -->
        <section class="mb-20 max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <!-- צד ימין: טקסט וכפתורים -->
                <div class="flex flex-col justify-center h-full">
                    <span class="text-accent font-bold tracking-wider text-sm mb-2 uppercase">הבחירה של הסטייליסטים</span>
                    <h2 class="text-3xl md:text-5xl font-bold mb-6 text-primary leading-tight">עיצוב אישי<br>בהתאמה מושלמת</h2>
                    <p class="text-gray-600 text-lg mb-8 leading-relaxed">
                        אנחנו מאמינים שתכשיט צריך לספר את הסיפור שלך. בואי לעצב את התכשיט הייחודי שלך יחד עם המעצבים שלנו, החל מבחירת האבן ועד לגימור הסופי. חוויה של יצירה ויוקרה.
                    </p>
                    <div class="flex flex-wrap gap-4">
                        <button class="bg-primary text-white px-8 py-3 rounded-full font-bold shadow-lg shadow-purple-200 hover:bg-purple-900 transition hover:-translate-y-1" onclick="showPage('custom-design')">התחלי לעצב</button>
                        <button class="px-8 py-3 rounded-full font-bold border-2 border-primary text-primary hover:bg-purple-50 transition" onclick="showPage('custom-design')">תיק עבודות</button>
                    </div>
                </div>

                <!-- צד שמאל: אזור נקי לתמונה -->
                <div class="relative h-[500px] w-full bg-gray-100 rounded-3xl overflow-hidden shadow-soft group">
                    <img src="https://il.orddiamonds.com/cdn/shop/files/IMG_2329.jpg?v=1613544989&width=2400" class="w-full h-full object-cover transition duration-700 group-hover:scale-105" alt="Custom Design">
                    <div class="absolute inset-0 bg-primary/5 hover:bg-transparent transition duration-500"></div>
                </div>
            </div>
        </section>

        <!-- חלק חדש: שאלות נפוצות (FAQ) -->
        <section class="max-w-3xl mx-auto mb-20 px-4" id="about">
            <h2 class="text-3xl font-bold text-center text-primary mb-2">שאלות נפוצות</h2>
            <p class="text-center text-gray-500 mb-10">כל מה שרציתם לדעת על התכשיטים והשירות שלנו</p>
            
            <div class="space-y-4">
                <!-- שאלה 1 -->
                <div class="bg-white border border-purple-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                    <button class="w-full flex justify-between items-center p-6 text-right focus:outline-none" onclick="toggleFaq(this)">
                        <span class="font-bold text-lg text-primary">תוך כמה זמן אקבל את ההזמנה?</span>
                        <span class="transform transition-transform duration-300 text-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </button>
                    <div class="hidden bg-purple-50/50 px-6 pb-6 pt-2 text-gray-600 border-t border-purple-50 leading-relaxed">
                        זמני המשלוח שלנו מהירים במיוחד! משלוח עד הבית מגיע בדרך כלל תוך 2-4 ימי עסקים לכל חלקי הארץ. הזמנות שמתקבלות עד השעה 12:00 יוצאות למשלוח באותו היום.
                    </div>
                </div>

                <!-- שאלה 2 -->
                <div class="bg-white border border-purple-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                    <button class="w-full flex justify-between items-center p-6 text-right focus:outline-none" onclick="toggleFaq(this)">
                        <span class="font-bold text-lg text-primary">האם יש אחריות על התכשיטים?</span>
                        <span class="transform transition-transform duration-300 text-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </button>
                    <div class="hidden bg-purple-50/50 px-6 pb-6 pt-2 text-gray-600 border-t border-purple-50 leading-relaxed">
                        בוודאי. כל התכשיטים שלנו מגיעים עם אחריות מלאה לשנה. האחריות מכסה את איכות השיבוץ, הציפוי ופגמי ייצור. אנחנו כאן לכל בעיה גם לאחר תקופת האחריות.
                    </div>
                </div>

                <!-- שאלה 3 -->
                <div class="bg-white border border-purple-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                    <button class="w-full flex justify-between items-center p-6 text-right focus:outline-none" onclick="toggleFaq(this)">
                        <span class="font-bold text-lg text-primary">האם ניתן להחליף או להחזיר פריט?</span>
                        <span class="transform transition-transform duration-300 text-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </button>
                    <div class="hidden bg-purple-50/50 px-6 pb-6 pt-2 text-gray-600 border-t border-purple-50 leading-relaxed">
                        כן, ניתן להחליף או להחזיר כל פריט תוך 14 יום מקבלת המשלוח, בתנאי שלא נעשה בו שימוש והוא באריזתו המקורית. הזיכוי הכספי יתבצע לאמצעי התשלום איתו שילמתם.
                    </div>
                </div>

                <!-- שאלה 4 -->
                <div class="bg-white border border-purple-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                    <button class="w-full flex justify-between items-center p-6 text-right focus:outline-none" onclick="toggleFaq(this)">
                        <span class="font-bold text-lg text-primary">האם התכשיטים עמידים במים?</span>
                        <span class="transform transition-transform duration-300 text-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </button>
                    <div class="hidden bg-purple-50/50 px-6 pb-6 pt-2 text-gray-600 border-t border-purple-50 leading-relaxed">
                        תכשיטי הזהב 14K שלנו עמידים לחלוטין במים. לגבי תכשיטים בציפוי זהב וכסף, מומלץ להימנע ממגע ממושך עם מים (כמו ים או בריכה) כדי לשמור על הברק לאורך זמן, אך מקלחת רגילה אינה פוגעת בהם.
                    </div>
                </div>

                <!-- שאלה 5 -->
                <div class="bg-white border border-purple-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition">
                    <button class="w-full flex justify-between items-center p-6 text-right focus:outline-none" onclick="toggleFaq(this)">
                        <span class="font-bold text-lg text-primary">איך מגיעה האריזה?</span>
                        <span class="transform transition-transform duration-300 text-accent">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </span>
                    </button>
                    <div class="hidden bg-purple-50/50 px-6 pb-6 pt-2 text-gray-600 border-t border-purple-50 leading-relaxed">
                        כל תכשיט נארז בקופסת מתנה יוקרתית ממותגת Trinkets, עטופה בסרט סאטן. בנוסף מצורפת מטלית ניקוי מיוחדת ותעודת אחריות. מושלם כמתנה לעצמך או לאחרים!
                    </div>
                </div>
            </div>
        </section>

        <!-- חלק 3: המלצות / יתרונות -->
        <div class="bg-purple-50 rounded-3xl p-8 md:p-12 mb-16 border border-purple-100">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent">✨</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">איכות ללא פשרות</h3>
                    <p class="text-gray-600 text-sm">כל תכשיט עובר בדיקת איכות קפדנית כדי להבטיח עמידות לאורך זמן.</p>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent">🚚</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">משלוח מהיר חינם</h3>
                    <p class="text-gray-600 text-sm">בקנייה מעל 299₪, המשלוח עלינו עד פתח הבית.</p>
                </div>
                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent">💎</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">אחריות לשנה</h3>
                    <p class="text-gray-600 text-sm">שקט נפשי מלא עם אחריות מקיפה על כל השיבוצים והציפויים.</p>
                </div>
            </div>
        </div>

        <!-- סקשן תחתון - הרשמה -->
        <div class="text-center pt-8" id="contact">
            <h3 class="text-xl font-bold mb-4 text-primary">הירשמו לניוזלטר שלנו</h3>
            <p class="text-gray-500 mb-6">קבלו עדכונים על מוצרים חדשים ומבצעים בלעדיים</p>
            <div class="max-w-md mx-auto flex gap-2">
                <input type="email" placeholder="הכנס את האימייל שלך..." class="flex-1 px-4 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 bg-purple-50">
                <button class="bg-gradient-main text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg hover:shadow-fuchsia-200 transition" onclick="showToast('תודה שנרשמת!', 'success')">הרשמה</button>
            </div>
        </div>

    </main>

    <!-- דף הטבה (מוסתר בהתחלה) -->
    <main id="promo-page" class="hidden flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לדף הבית
        </button>

        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-fuchsia-100">
            <div class="bg-gradient-main p-12 text-center text-white relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
                <div class="absolute bottom-0 left-0 w-48 h-48 bg-purple-900/30 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2"></div>
                
                <h1 class="text-4xl md:text-5xl font-bold mb-4 relative z-10">מבצע סוף שנה</h1>
                <p class="text-fuchsia-100 text-xl relative z-10">20% הנחה על כל קולקציית הערב</p>
            </div>

            <div class="p-8 md:p-12">
                <div class="flex flex-col md:flex-row gap-12">
                    <div class="flex-1">
                        <h3 class="text-2xl font-bold text-primary mb-6">פרטי ההטבה</h3>
                        <p class="text-gray-600 mb-6 leading-relaxed">
                            אנחנו שמחים להעניק לכם הנחה מיוחדת על הקולקציה היוקרתית ביותר שלנו. ההנחה תקפה לרכישה באתר בלבד וכוללת כפל מבצעים. זו ההזדמנות שלכם להתחדש בתכשיט חלומי או להעניק מתנה בלתי נשכחת.
                        </p>
                        
                        <div class="bg-purple-50 rounded-xl p-6 border border-purple-100 mb-8">
                            <p class="text-sm text-gray-500 mb-2">קוד קופון לשימוש בקופה:</p>
                            <div class="flex items-center gap-4 bg-white p-3 rounded-lg border border-purple-200 shadow-sm cursor-pointer hover:border-accent transition group" onclick="copyCode('PURPLE20')">
                                <span class="font-mono text-2xl font-bold text-primary tracking-widest flex-1 text-center">PURPLE20</span>
                                <span class="text-gray-400 group-hover:text-accent">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 012 2v8a2 2 0 01-2 2h-8a2 2 0 01-2-2v-8a2 2 0 012-2z" />
                                    </svg>
                                </span>
                            </div>
                        </div>

                        <div class="flex items-center gap-2 text-sm text-gray-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <span>בתוקף עד: <strong>31 בדצמבר 2025</strong></span>
                        </div>
                    </div>

                    <div class="flex-1 border-r border-gray-100 pr-0 md:pr-12 mr-0 md:mr-12 border-t md:border-t-0 pt-8 md:pt-0 mt-8 md:mt-0">
                        <h3 class="text-xl font-bold text-primary mb-6">על אילו פריטים זה עובד?</h3>
                        <ul class="space-y-4">
                            <li class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-accent"></div>
                                <span class="text-gray-700">שרשראות זהב 14K</span>
                            </li>
                            <li class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-accent"></div>
                                <span class="text-gray-700">עגילי יהלום צמודים</span>
                            </li>
                            <li class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-accent"></div>
                                <span class="text-gray-700">צמידי טניס יוקרתיים</span>
                            </li>
                            <li class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-accent"></div>
                                <span class="text-gray-700">טבעות אירוסין ונישואין</span>
                            </li>
                            <li class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-accent"></div>
                                <span class="text-gray-700">כל קולקציית "חצות" החדשה</span>
                            </li>
                        </ul>

                        <div class="mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-500">
                            * לא כולל פריטים במבצעי חיסול. <br> * כפוף לתקנון האתר.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- דף מוצר (חדש) - סט מלכותי -->
    <main id="product-page" class="hidden flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לחנות
        </button>

        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-fuchsia-100 flex flex-col md:flex-row h-auto md:h-[600px]">
            
            <!-- אזור תמונה עם זכוכית מגדלת -->
            <div class="md:w-1/2 relative bg-gray-50 h-[400px] md:h-full magnify-container group" onmousemove="zoomImage(event)" onmouseleave="resetZoom(event)">
                <img id="product-img" src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?q=80&w=1200&auto=format&fit=crop" class="w-full h-full object-cover magnify-img" alt="Royal Set">
                <div class="absolute bottom-4 left-4 bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-gray-600 pointer-events-none">
                    העבר עכבר לזום
                </div>
            </div>

            <!-- אזור פרטי מוצר -->
            <div class="md:w-1/2 p-8 md:p-12 flex flex-col justify-center">
                <div class="mb-auto">
                    <span class="text-accent font-bold tracking-wider text-sm uppercase mb-2 block">Limited Edition</span>
                    <h1 class="text-4xl font-bold text-primary mb-2">סט מלכותי</h1>
                    <div class="flex items-center gap-2 mb-6">
                        <span class="text-2xl font-bold text-gray-900">₪1,290</span>
                        <span class="text-lg text-gray-400 line-through">₪1,590</span>
                        <span class="bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-bold">חיסכון 19%</span>
                    </div>

                    <p class="text-gray-600 mb-8 leading-relaxed text-lg">
                        הסט המלכותי שלנו הוא גולת הכותרת של הקולקציה החדשה. מורכב משרשרת ועגילים תואמים בציפוי זהב 18K איכותי, משובצים באבני זירקוניה נוצצות בחיתוך מדויק. עיצוב קלאסי שמשדר יוקרה ואלגנטיות, מושלם לאירועים מיוחדים או כמתנה מפנקת במיוחד.
                    </p>
                </div>

                <div class="border-t border-gray-100 pt-8">
                    <div class="flex flex-col gap-6">
                        <!-- בורר כמות -->
                        <div class="flex items-center gap-4">
                            <span class="text-gray-700 font-medium">כמות:</span>
                            <div class="flex items-center border border-gray-300 rounded-lg">
                                <button onclick="updateQuantity(-1)" class="w-10 h-10 flex items-center justify-center text-gray-500 hover:text-primary transition hover:bg-gray-50 rounded-r-lg">-</button>
                                <input type="text" id="quantity" value="1" class="w-12 text-center border-none focus:ring-0 font-medium text-lg" readonly>
                                <button onclick="updateQuantity(1)" class="w-10 h-10 flex items-center justify-center text-gray-500 hover:text-primary transition hover:bg-gray-50 rounded-l-lg">+</button>
                            </div>
                        </div>

                        <!-- כפתורי פעולה -->
                        <div class="flex gap-4 mt-2">
                            <button class="flex-1 bg-gradient-main text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg hover:shadow-fuchsia-200 transition transform hover:-translate-y-1" onclick="addRoyalSetToCart()">
                                הוספה לסל
                            </button>
                            <button class="flex-1 border-2 border-primary text-primary py-4 rounded-xl font-bold text-lg hover:bg-purple-50 transition" onclick="showToast('מעבר לתשלום מאובטח...')">
                                קנה עכשיו
                            </button>
                        </div>
                        
                        <div class="flex items-center justify-center gap-6 text-sm text-gray-500 mt-4">
                            <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> במלאי</span>
                            <span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> משלוח חינם</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- דף קולקציית אבני חן סגולות (חדש) -->
    <main id="purple-collection-page" class="hidden flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לחנות
        </button>

        <header class="mb-12 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-900 to-fuchsia-600 pb-2">קולקציית אבני חן סגולות</h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">גלה את הקסם של הצבע המלכותי. קולקציה ייחודית של אמטיסט, ספיר וטנזנייט בעיצובים עוצרי נשימה.</p>
        </header>

        <!-- גריד מוצרים -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- מוצר 1 -->
            <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Amethyst Necklace">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">שרשרת אמטיסט עמוקה</h3>
                    <p class="text-gray-500 text-sm mb-4">אבן אמטיסט טבעית בחיתוך טיפה, משובצת בזהב לבן.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪890</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('amethyst-necklace', 'שרשרת אמטיסט עמוקה', 890, 'https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>

            <!-- מוצר 2 -->
            <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Sapphire Ring">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">טבעת ספיר מלכותית</h3>
                    <p class="text-gray-500 text-sm mb-4">טבעת ספיר סגולה נדירה מוקפת ביהלומים קטנים.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪2,450</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('sapphire-ring', 'טבעת ספיר מלכותית', 2450, 'https://images.unsplash.com/photo-1605100804763-247f67b3557e?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>

            <!-- מוצר 3 -->
            <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Purple Earrings">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">עגילי טנזנייט</h3>
                    <p class="text-gray-500 text-sm mb-4">עגילים צמודים משובצים באבן טנזנייט בגוון סגול-כחול.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪1,200</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('tanzanite-earrings', 'עגילי טנזנייט', 1200, 'https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>

             <!-- מוצר 4 -->
             <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://cdn.modulus.co.il/royalty/www.royalty.me/images/k4032a.jpg?width=3000&v=2&output=webp" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Pendant">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">תליון לבנדר</h3>
                    <p class="text-gray-500 text-sm mb-4">תליון עדין בגוון לילך רך, מושלם ליום יום.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪450</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('lavender-pendant', 'תליון לבנדר', 450, 'https://images.unsplash.com/photo-1603974372039-adc49044b3bd?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>

             <!-- מוצר 5 -->
             <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://sadikovs.com/wp-content/uploads/2025/08/IMG_3606_converted-400x400.jpg" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Brooch">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">סיכת וינטג'</h3>
                    <p class="text-gray-500 text-sm mb-4">סיכה מעוצבת בסגנון עתיק עם אבן סגולה מרכזית.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪680</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('vintage-brooch', 'סיכת וינטג\'', 680, 'https://images.unsplash.com/photo-1599643478518-17488fbbcd75?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>

             <!-- מוצר 6 -->
             <div class="bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group">
                <div class="relative h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1611591437281-460bfbe1220a?q=80&w=600&auto=format&fit=crop" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="Bracelet">
                </div>
                <div class="p-6">
                    <h3 class="font-bold text-xl text-primary mb-2">צמיד חרוזים סגול</h3>
                    <p class="text-gray-500 text-sm mb-4">צמיד גמיש המורכב מחרוזי אמטיסט קטנים.</p>
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-bold text-accent">₪320</span>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex-1 bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('beaded-bracelet', 'צמיד חרוזים סגול', 320, 'https://images.unsplash.com/photo-1611591437281-460bfbe1220a?q=80&w=200&auto=format&fit=crop')">הוספה לסל</button>
                        <button class="bg-gradient-main text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition" onclick="showToast('צפייה מהירה...')">צפייה</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- דף קטגוריות כללי (חדש - עבור זהב, כסף, יהלומים, רוז גולד) -->
    <main id="category-page" class="hidden flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לחנות
        </button>

        <header class="mb-12 text-center">
            <h1 id="category-title" class="text-4xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-900 to-fuchsia-600 pb-2">קטגוריה</h1>
            <p id="category-desc" class="text-gray-600 text-lg max-w-2xl mx-auto">תיאור הקטגוריה</p>
        </header>

        <div class="flex flex-col md:flex-row gap-8">
            <!-- סרגל סינון -->
            <aside class="md:w-1/4">
                <div class="bg-white p-6 rounded-2xl shadow-soft border border-gray-100 sticky top-24">
                    <h3 class="font-bold text-xl mb-4 text-primary">סינון</h3>
                    
                    <!-- סינון סוג תכשיט -->
                    <div class="mb-6">
                        <h4 class="font-medium text-gray-700 mb-2">סוג תכשיט</h4>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="applyFilter('type', 'שרשרת')" class="rounded text-accent focus:ring-accent"> שרשראות</label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="applyFilter('type', 'טבעת')" class="rounded text-accent focus:ring-accent"> טבעות</label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="applyFilter('type', 'עגילים')" class="rounded text-accent focus:ring-accent"> עגילים</label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="applyFilter('type', 'צמיד')" class="rounded text-accent focus:ring-accent"> צמידים</label>
                        </div>
                    </div>

                    <!-- סינון מחיר -->
                    <div class="mb-6">
                        <h4 class="font-medium text-gray-700 mb-2">מחיר מקסימלי</h4>
                        <input type="range" min="0" max="10000" value="10000" id="price-range" class="w-full accent-accent" oninput="document.getElementById('price-val').innerText = this.value + '₪'; applyFilter('price', this.value)">
                        <div class="text-sm text-gray-500 mt-1">עד: <span id="price-val" class="font-bold">10000₪</span></div>
                    </div>

                    <!-- כפתור איפוס -->
                    <button onclick="resetFilters()" class="w-full bg-gray-100 text-gray-600 py-2 rounded-lg text-sm hover:bg-gray-200 transition">נקה סינונים</button>
                </div>
            </aside>

            <!-- גריד מוצרים -->
            <div class="md:w-3/4">
                <div id="category-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- המוצרים יוזרקו לכאן דינמית -->
                </div>

                <!-- פגינציה -->
                <div id="pagination-controls" class="flex justify-center items-center gap-4 mt-12">
                    <button onclick="changePage(-1)" id="prev-page" class="bg-white border border-gray-200 px-4 py-2 rounded-lg hover:bg-gray-50 disabled:opacity-50">הקודם</button>
                    <span id="page-indicator" class="font-medium text-gray-600">עמוד 1</span>
                    <button onclick="changePage(1)" id="next-page" class="bg-white border border-gray-200 px-4 py-2 rounded-lg hover:bg-gray-50 disabled:opacity-50">הבא</button>
                </div>
            </div>
        </div>
    </main>

    <!-- דף סל קניות מלא (חדש) -->
    <main id="cart-page" class="hidden flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לחנות
        </button>

        <h1 class="text-4xl font-bold text-primary mb-8 text-center">סל הקניות שלך</h1>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            <!-- רשימת מוצרים בסל -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-soft overflow-hidden border border-gray-100">
                    <div id="cart-items-full-page" class="p-6 space-y-6">
                        <!-- תוכן הסל יתווסף כאן -->
                        <div class="text-center text-gray-500 py-10">
                            <p class="text-lg">הסל שלך ריק כרגע</p>
                            <button onclick="showPage('home')" class="mt-4 text-accent font-medium hover:underline">התחל לקנות</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- סיכום הזמנה -->
            <div class="lg:col-span-1">
                <div class="bg-purple-50 rounded-2xl p-8 border border-purple-100 sticky top-24">
                    <h3 class="text-xl font-bold text-primary mb-6">סיכום הזמנה</h3>
                    <div class="space-y-4 mb-6 text-gray-600">
                        <div class="flex justify-between">
                            <span>סכום ביניים</span>
                            <span id="subtotal-price">₪0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>משלוח</span>
                            <span class="text-green-600">חינם</span>
                        </div>
                        <div class="flex justify-between">
                            <span>מיסים</span>
                            <span>כלול במחיר</span>
                        </div>
                    </div>
                    <div class="border-t border-purple-200 pt-4 mb-8">
                        <div class="flex justify-between items-center text-lg font-bold text-primary">
                            <span>סה"כ לתשלום</span>
                            <span id="total-price-page">₪0</span>
                        </div>
                    </div>
                    <button class="w-full bg-gradient-main text-white py-4 rounded-xl font-bold hover:shadow-lg transition text-lg" onclick="showToast('מעבר לתשלום מאובטח...')">
                        המשך לתשלום
                    </button>
                    <div class="mt-6 flex justify-center gap-4 text-gray-400">
                        <!-- אייקונים של כרטיסי אשראי (דמה) -->
                        <div class="w-8 h-5 bg-gray-200 rounded"></div>
                        <div class="w-8 h-5 bg-gray-200 rounded"></div>
                        <div class="w-8 h-5 bg-gray-200 rounded"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- דף צור קשר (חדש) -->
    <main id="contact-page" class="hidden flex-grow max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לדף הבית
        </button>

        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-fuchsia-100 flex flex-col md:flex-row">
            <!-- פרטי התקשרות צדדיים (אופציונלי - לעיצוב) -->
            <div class="bg-gradient-main p-10 text-white md:w-1/3 flex flex-col justify-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-purple-900/30 rounded-full blur-xl translate-y-1/2 -translate-x-1/2"></div>
                
                <h3 class="text-2xl font-bold mb-6 relative z-10">נשמח לשמוע ממך</h3>
                <p class="text-purple-100 mb-8 relative z-10 leading-relaxed">
                    יש לך שאלה? רוצה להתייעץ לגבי תכשיט? הצוות שלנו זמין לכל פנייה.
                </p>
                
                <div class="space-y-4 relative z-10">
                    <div class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
                        <span>050-1234567</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                        <span>support@trinkets.co.il</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                        <span>פרופסור משה שור 16, חולון</span>
                    </div>
                </div>
            </div>

            <!-- טופס יצירת קשר -->
            <div class="p-10 md:w-2/3">
                <h2 class="text-3xl font-bold text-primary mb-8">שלחו לנו הודעה</h2>
                <form onsubmit="handleContactSubmit(event)" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1">שם פרטי <span class="text-red-500">*</span></label>
                            <input type="text" id="first-name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent outline-none transition" placeholder="ישראל">
                        </div>
                        <div>
                            <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1">שם משפחה <span class="text-red-500">*</span></label>
                            <input type="text" id="last-name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent outline-none transition" placeholder="ישראלי">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">טלפון</label>
                            <input type="tel" id="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent outline-none transition" placeholder="05X-XXXXXXX">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">אימייל <span class="text-red-500">*</span></label>
                            <input type="email" id="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent outline-none transition" placeholder="example@mail.com">
                        </div>
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">תוכן ההודעה <span class="text-red-500">*</span></label>
                        <textarea id="message" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-accent outline-none transition resize-none" placeholder="היי, רציתי לשאול לגבי..."></textarea>
                    </div>

                    <div class="pt-2">
                        <button type="submit" class="w-full md:w-auto bg-gradient-main text-white px-8 py-3 rounded-lg font-bold hover:shadow-lg hover:shadow-fuchsia-200 transition transform hover:-translate-y-1">
                            שליחת הודעה
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- דף אודות (חדש) -->
    <main id="about-page" class="hidden flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full fade-in">
        <button onclick="showPage('home')" class="mb-8 flex items-center text-gray-500 hover:text-primary transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לדף הבית
        </button>

        <div class="space-y-16">
            <!-- חלק עליון: סיפור המותג -->
            <div class="flex flex-col md:flex-row gap-12 items-center">
                <div class="md:w-1/2">
                    <h1 class="text-4xl font-bold text-primary mb-6">הסיפור של Trinkets</h1>
                    <div class="w-20 h-1 bg-accent mb-8"></div>
                    <p class="text-gray-600 text-lg leading-relaxed mb-6">
                        המסע שלנו התחיל בשנת 2010 מתוך אהבה עמוקה לאסתטיקה וליופי שבפרטים הקטנים. המטרה שלנו הייתה פשוטה: ליצור תכשיטים שלא רק נראים טוב, אלא גם גורמים לך להרגיש טוב.
                    </p>
                    <p class="text-gray-600 text-lg leading-relaxed mb-6">
                        ב-Trinkets, אנחנו מאמינים שתכשיט הוא יותר מסתם אביזר אופנה. הוא ביטוי לאישיות, זיכרון מרגע מיוחד, או סמל לאהבה. לכן, כל פריט בקולקציה שלנו נבחר בקפידה או מעוצב ביד אמן, תוך שימוש בחומרים האיכותיים ביותר - החל מזהב 14K וכסף סטרילינג 925, ועד לאבני חן טבעיות ויהלומים מוקפדים.
                    </p>
                    <div class="flex gap-8 mt-8">
                        <div class="text-center">
                            <span class="block text-3xl font-bold text-primary">15+</span>
                            <span class="text-sm text-gray-500">שנות ניסיון</span>
                        </div>
                        <div class="text-center">
                            <span class="block text-3xl font-bold text-primary">50k+</span>
                            <span class="text-sm text-gray-500">לקוחות מרוצים</span>
                        </div>
                        <div class="text-center">
                            <span class="block text-3xl font-bold text-primary">100%</span>
                            <span class="text-sm text-gray-500">מקצועיות</span>
                        </div>
                    </div>
                </div>
                <div class="md:w-1/2 relative">
                    <div class="absolute -top-4 -right-4 w-full h-full border-2 border-accent rounded-3xl"></div>
                    <img src="https://images.unsplash.com/photo-1531995811006-35cb42e1a022?q=80&w=800&auto=format&fit=crop" class="w-full h-[500px] object-cover rounded-3xl shadow-lg relative z-10" alt="Jewelry Workshop">
                </div>
            </div>

            <!-- ערכים -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center bg-purple-50 p-10 rounded-3xl">
                <div>
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent mx-auto">💎</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">חומרי גלם משובחים</h3>
                    <p class="text-gray-600">אנחנו לא מתפשרים על איכות. כל תכשיט עובר בקרת איכות קפדנית כדי להבטיח שישמור על הברק שלו לאורך שנים.</p>
                </div>
                <div>
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent mx-auto">🎨</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">עיצוב מקורי</h3>
                    <p class="text-gray-600">הקולקציות שלנו מתחדשות כל הזמן עם עיצובים טרנדיים לצד קלאסיקות על-זמניות, כדי שכל אחת תמצא את הסגנון שלה.</p>
                </div>
                <div>
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center text-3xl mb-4 shadow-sm text-accent mx-auto">🤝</div>
                    <h3 class="font-bold text-xl mb-2 text-primary">שירות אישי</h3>
                    <p class="text-gray-600">אנחנו כאן בשבילך. צוות המומחים שלנו זמין לכל שאלה, התייעצות או בקשה מיוחדת, לפני ואחרי הקנייה.</p>
                </div>
            </div>

            <!-- מפה ומיקום -->
            <div class="bg-white rounded-3xl overflow-hidden shadow-soft border border-gray-100">
                <div class="grid grid-cols-1 md:grid-cols-2">
                    <div class="p-10 flex flex-col justify-center">
                        <h2 class="text-3xl font-bold text-primary mb-6">בואו לבקר אותנו</h2>
                        <p class="text-gray-600 mb-8 text-lg">
                            אנחנו מזמינים אתכם להגיע לחנות הדגל שלנו בחולון, להתרשם מהקולקציות מקרוב, למדוד ולהתייעץ עם הסטייליסטים שלנו.
                        </p>
                        <ul class="space-y-4 text-gray-700">
                            <li class="flex items-center gap-3">
                                <span class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg></span>
                                <strong>כתובת:</strong> פרופסור משה שור 16, חולון
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></span>
                                <strong>שעות פתיחה:</strong> א'-ה': 10:00-20:00, ו': 09:30-14:00
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg></span>
                                <strong>טלפון:</strong> 03-123-4567
                            </li>
                        </ul>
                    </div>
                    <div class="h-[400px] w-full">
                        <iframe 
                            src="https://maps.google.com/maps?q=Professor+Moshe+Shor+16+Holon&t=&z=15&ie=UTF8&iwloc=&output=embed" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- דף סטודיו לעיצוב אישי (חדש ומשודרג - תלת מימד עם Three.js) -->
    <main id="custom-design-page" class="hidden flex-grow w-full bg-black min-h-screen text-white fade-in relative overflow-hidden">
        
        <!-- כפתור חזרה -->
        <button onclick="showPage('home')" class="absolute top-8 right-8 z-50 flex items-center text-gray-400 hover:text-white transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            חזרה לחנות
        </button>

        <!-- רקע אנימטיבי -->
        <div class="absolute inset-0 bg-gradient-dark"></div>
        <div class="absolute top-0 right-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 animate-pulse"></div>

        <div class="relative z-10 flex flex-col items-center justify-center min-h-screen p-8 text-center w-full">
            
            <h1 class="text-5xl md:text-7xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-fuchsia-400 to-purple-600 tracking-tight">Trinkets Bespoke Studio</h1>
            <p class="text-gray-400 text-xl mb-12 font-light tracking-wide">עצבו את הטבעת המושלמת. בחרו אבן, חיתוך ומתכת.</p>

            <div class="flex flex-col lg:flex-row gap-12 w-full max-w-6xl items-center">
                
                <!-- אזור תצוגה תלת מימדית Three.js -->
                <div class="lg:w-1/2 w-full h-[500px] flex items-center justify-center relative bg-black/20 rounded-3xl overflow-hidden border border-white/10">
                    <div id="three-container" class="w-full h-full"></div>
                    <!-- לוגו קטן בפינה -->
                    <div class="absolute bottom-4 left-4 text-white/30 text-sm font-bold">TRINKETS 3D</div>
                </div>

                <!-- פאנל שליטה -->
                <div class="lg:w-1/2 w-full bg-white/5 backdrop-blur-xl border border-white/10 p-8 rounded-3xl text-right">
                    
                    <!-- בחירת סוג אבן -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold mb-3 text-fuchsia-300">1. סוג האבן</h3>
                        <div class="grid grid-cols-4 gap-3">
                            <button onclick="updateGemMaterial(0xffffff)" class="p-2 rounded-xl bg-white/5 hover:bg-white/20 transition border border-transparent hover:border-white/30 flex flex-col items-center gap-2">
                                <div class="w-5 h-5 rounded-full bg-cyan-100 shadow-[0_0_10px_rgba(207,250,254,0.8)]"></div>
                                <span class="text-xs">יהלום</span>
                            </button>
                            <button onclick="updateGemMaterial(0xff0000)" class="p-2 rounded-xl bg-white/5 hover:bg-white/20 transition border border-transparent hover:border-white/30 flex flex-col items-center gap-2">
                                <div class="w-5 h-5 rounded-full bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.8)]"></div>
                                <span class="text-xs">רובי</span>
                            </button>
                            <button onclick="updateGemMaterial(0x0000ff)" class="p-2 rounded-xl bg-white/5 hover:bg-white/20 transition border border-transparent hover:border-white/30 flex flex-col items-center gap-2">
                                <div class="w-5 h-5 rounded-full bg-blue-600 shadow-[0_0_10px_rgba(37,99,235,0.8)]"></div>
                                <span class="text-xs">ספיר</span>
                            </button>
                            <button onclick="updateGemMaterial(0x9933ff)" class="p-2 rounded-xl bg-white/5 hover:bg-white/20 transition border border-transparent hover:border-white/30 flex flex-col items-center gap-2">
                                <div class="w-5 h-5 rounded-full bg-purple-600 shadow-[0_0_10px_rgba(147,51,234,0.8)]"></div>
                                <span class="text-xs">אמטיסט</span>
                            </button>
                        </div>
                    </div>

                    <!-- בחירת צורת חיתוך -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold mb-3 text-fuchsia-300">2. חיתוך (Shape)</h3>
                        <div class="flex gap-3">
                            <button onclick="updateGemGeometry('square')" class="flex-1 py-2 px-3 rounded-lg bg-white/10 hover:bg-white/20 text-sm border border-white/10">פרינסס (מרובע)</button>
                            <button onclick="updateGemGeometry('round')" class="flex-1 py-2 px-3 rounded-lg bg-white/10 hover:bg-white/20 text-sm border border-white/10">עגול (Brilliant)</button>
                            <button onclick="updateGemGeometry('emerald')" class="flex-1 py-2 px-3 rounded-lg bg-white/10 hover:bg-white/20 text-sm border border-white/10">אמרלד (מלבני)</button>
                        </div>
                    </div>

                    <!-- בחירת מתכת -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold mb-3 text-fuchsia-300">3. סוג המתכת</h3>
                        <div class="flex gap-4">
                            <button onclick="updateRingMaterial(0xffd700)" class="flex-1 py-3 rounded-lg bg-gradient-to-r from-yellow-200 to-yellow-500 text-black font-bold hover:scale-105 transition transform shadow-lg">זהב צהוב</button>
                            <button onclick="updateRingMaterial(0xe0e0e0)" class="flex-1 py-3 rounded-lg bg-gradient-to-r from-gray-100 to-gray-300 text-black font-bold hover:scale-105 transition transform shadow-lg">זהב לבן</button>
                            <button onclick="updateRingMaterial(0xe6a69c)" class="flex-1 py-3 rounded-lg bg-gradient-to-r from-rose-200 to-rose-400 text-black font-bold hover:scale-105 transition transform shadow-lg">רוז גולד</button>
                        </div>
                    </div>
                    
                    <!-- גודל ומידה (חדש) -->
                    <div class="grid grid-cols-2 gap-6 mb-8">
                        <div>
                            <h3 class="text-lg font-bold mb-2 text-fuchsia-300">4. גודל (קראט)</h3>
                            <input type="range" min="0.5" max="3.0" step="0.1" value="1.0" class="custom-range" oninput="updateGemScale(this.value); document.getElementById('carat-val').innerText = this.value">
                            <div class="text-sm text-gray-400 mt-1">קראט: <span id="carat-val">1.0</span></div>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold mb-2 text-fuchsia-300">5. מידה</h3>
                            <select class="w-full p-2 rounded-lg custom-select outline-none">
                                <option>48</option><option>50</option><option>52</option><option>54</option><option>56</option><option>58</option><option>60</option>
                            </select>
                        </div>
                    </div>

                    <button onclick="showToast('העיצוב נשמר! נציג יצור איתך קשר להמשך התהליך.', 'success')" class="w-full bg-gradient-to-r from-fuchsia-600 to-purple-600 py-4 rounded-xl font-bold text-lg hover:shadow-[0_0_30px_rgba(192,38,211,0.6)] transition duration-500">
                        סיים עיצוב וקבל הצעת מחיר
                    </button>

                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-fuchsia-100 mt-12 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h4 class="font-bold text-primary mb-4">Trinkets</h4>
                    <p class="text-gray-500 text-sm">חנות התכשיטים המובילה בישראל לעיצובים ייחודיים ואיכותיים.</p>
                </div>
                <div>
                    <h4 class="font-bold text-primary mb-4">ניווט מהיר</h4>
                    <ul class="space-y-2 text-sm text-gray-500">
                        <li><a href="#" class="hover:text-accent" onclick="showPage('home'); window.scrollTo({top: 0, behavior: 'smooth'})">ראשי</a></li>
                        <li><a href="#collections" onclick="showPage('home')" class="hover:text-accent">קולקציות</a></li>
                        <li><a href="#new" onclick="showPage('home')" class="hover:text-accent">מבצעים</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-primary mb-4">שירות לקוחות</h4>
                    <!-- תיקון: הלינק מפנה לעמוד צור קשר -->
                    <li><a href="#" class="hover:text-accent" onclick="showPage('contact')">צור קשר</a></li>
                    <li><a href="#" class="hover:text-accent" onclick="showPage('home'); setTimeout(() => document.getElementById('about').scrollIntoView({behavior: 'smooth'}), 100)">שאלות ותשובות</a></li>
                    <li><a href="#" class="hover:text-accent" onclick="showToast('עובר למעקב משלוחים...')">מעקב משלוחים</a></li>
                </div>
                <div>
                    <h4 class="font-bold text-primary mb-4">עקבו אחרינו</h4>
                    <div class="flex gap-4">
                        <a href="#" class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-secondary hover:bg-accent hover:text-white transition" onclick="showToast('פותח אינסטגרם...')">IG</a>
                        <a href="#" class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-secondary hover:bg-accent hover:text-white transition" onclick="showToast('פותח פייסבוק...')">FB</a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-100 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-500">
                <p>&copy; 2024 Trinkets. כל הזכויות שמורות.</p>
                <div class="flex gap-4 mt-4 md:mt-0">
                    <a href="#" class="hover:text-primary" onclick="showToast('מדיניות פרטיות')">מדיניות פרטיות</a>
                    <a href="#" class="hover:text-primary" onclick="showToast('תנאי שימוש')">תנאי שימוש</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // --- ניהול נתונים (מוצרים) ---
        const productsDatabase = [];
        const categories = ['gold', 'silver', 'diamond', 'rose-gold'];
        const types = ['שרשרת', 'טבעת', 'עגילים', 'צמיד'];
        const images = {
            'gold': 'https://images-aka.kayoutlet.com/kayoutlet/gold-jewelry/discount-yellow-gold-jewelry.jpg',
            'silver': 'https://images.unsplash.com/photo-1611085583191-a3b181a88401?q=80&w=400&auto=format&fit=crop',
            'diamond': 'https://images.unsplash.com/photo-1605648916361-9bc12ad6a569?q=80&w=400&auto=format&fit=crop',
            'rose-gold': 'https://www.brilliance.com/front/img/src/assets/images/education/style-guide-rose-gold-engagement-ring-marquise..jpeg'
        };

        // יצירת 80 מוצרים פיקטיביים
        let idCounter = 1;
        categories.forEach(cat => {
            for (let i = 1; i <= 20; i++) {
                const type = types[Math.floor(Math.random() * types.length)];
                let price = Math.floor(Math.random() * 4000) + 200; // מחיר בין 200 ל-4200
                
                let name = `${type} ${cat === 'gold' ? 'זהב' : cat === 'silver' ? 'כסף' : cat === 'diamond' ? 'יהלום' : 'רוז גולד'} יוקרתי`;
                if (i % 3 === 0) name = `${type} קלאסי מעוצב`;
                if (i % 5 === 0) name = `סט ${type} מיוחד`;

                productsDatabase.push({
                    id: `prod-${idCounter++}`,
                    category: cat,
                    type: type,
                    name: name,
                    price: price,
                    image: images[cat] // שימוש בתמונה גנרית לפי קטגוריה
                });
            }
        });

        // --- משתני מצב לעמוד קטגוריה ---
        let currentCategory = '';
        let activeFilters = {
            types: [],
            maxPrice: 10000
        };
        let currentPage = 1;
        const itemsPerPage = 8;
        let filteredProducts = [];

        // פתיחת עמוד קטגוריה
        function openCategoryPage(category) {
            currentCategory = category;
            currentPage = 1;
            activeFilters = { types: [], maxPrice: 10000 }; // איפוס סינונים
            
            // עדכון כותרת ותיאור
            const titleMap = { 'gold': 'קולקציית זהב', 'silver': 'קולקציית כסף', 'diamond': 'קולקציית יהלומים', 'rose-gold': 'קולקציית רוז גולד' };
            document.getElementById('category-title').innerText = titleMap[category];
            document.getElementById('category-desc').innerText = `מבחר תכשיטי ${titleMap[category].replace('קולקציית ', '')} בעיצובים עוצרי נשימה.`;
            
            // איפוס UI של הפילטרים
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('price-range').value = 10000;
            document.getElementById('price-val').innerText = '10000₪';

            showPage('category');
            filterProducts();
        }

        // סינון מוצרים
        function filterProducts() {
            filteredProducts = productsDatabase.filter(p => {
                // סינון לפי קטגוריה ראשית
                if (p.category !== currentCategory) return false;
                
                // סינון לפי מחיר
                if (p.price > activeFilters.maxPrice) return false;

                // סינון לפי סוג (אם נבחרו סוגים)
                if (activeFilters.types.length > 0 && !activeFilters.types.includes(p.type)) return false;

                return true;
            });

            // מיון אופציונלי (כרגע ברירת מחדל)
            
            // איפוס עמוד אם צריך
            const maxPage = Math.ceil(filteredProducts.length / itemsPerPage) || 1;
            if (currentPage > maxPage) currentPage = 1;

            renderCategoryGrid();
        }

        // הפעלת פילטר
        function applyFilter(filterType, value) {
            if (filterType === 'price') {
                activeFilters.maxPrice = parseInt(value);
            } else if (filterType === 'type') {
                if (activeFilters.types.includes(value)) {
                    activeFilters.types = activeFilters.types.filter(t => t !== value);
                } else {
                    activeFilters.types.push(value);
                }
            }
            filterProducts();
        }

        function resetFilters() {
            activeFilters = { types: [], maxPrice: 10000 };
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('price-range').value = 10000;
            document.getElementById('price-val').innerText = '10000₪';
            filterProducts();
        }

        // רנדור הגריד
        function renderCategoryGrid() {
            const container = document.getElementById('category-grid');
            container.innerHTML = '';

            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageItems = filteredProducts.slice(start, end);

            if (pageItems.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center text-gray-500 py-10">לא נמצאו מוצרים התואמים את הסינון.</div>';
                document.getElementById('pagination-controls').classList.add('hidden');
                return;
            }

            document.getElementById('pagination-controls').classList.remove('hidden');

            pageItems.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-2xl overflow-hidden shadow-soft hover:shadow-lg transition group';
                card.innerHTML = `
                    <div class="relative h-64 overflow-hidden bg-gray-50">
                        <img src="${item.image}" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="${item.name}">
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-lg text-primary mb-1">${item.name}</h3>
                        <p class="text-gray-500 text-sm mb-3">${item.type}</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-lg font-bold text-accent">₪${item.price.toLocaleString()}</span>
                        </div>
                        <button class="w-full bg-purple-50 text-primary py-2 rounded-lg font-medium hover:bg-purple-100 transition" onclick="addToCart('${item.id}', '${item.name}', ${item.price}, '${item.image}')">הוספה לסל</button>
                    </div>
                `;
                container.appendChild(card);
            });

            // עדכון פגינציה
            const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);
            document.getElementById('page-indicator').innerText = `עמוד ${currentPage} מתוך ${totalPages}`;
            document.getElementById('prev-page').disabled = currentPage === 1;
            document.getElementById('next-page').disabled = currentPage === totalPages;
        }

        function changePage(direction) {
            currentPage += direction;
            renderCategoryGrid();
            window.scrollTo({ top: 0, behavior: 'smooth' }); // גלילה למעלה במעבר עמוד
        }


        // --- שאר הקוד הקיים (עגלה, ניווט וכו') ---
        
        let cart = [];

        function addToCart(id, name, price, image, quantity = 1) {
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({ id, name, price, image, quantity });
            }
            
            updateCartUI();
            showToast(`${name} נוסף לסל!`, 'success');
            
            // אם העגלה הצדדית פתוחה, רנדר אותה מחדש
            const sidebar = document.getElementById('cart-sidebar');
            if (sidebar.classList.contains('open')) {
                renderSidebarCart();
            }
        }

        // פונקציה ספציפית לסט המלכותי מדף המוצר (לוקחת כמות מה-input)
        function addRoyalSetToCart() {
            const quantity = parseInt(document.getElementById('quantity').value);
            addToCart('royal-set', 'סט מלכותי', 1290, 'https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?q=80&w=200&auto=format&fit=crop', quantity);
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
            renderSidebarCart(); // עדכון מיידי של התצוגה
            if (!document.getElementById('cart-page').classList.contains('hidden')) {
                renderFullPageCart();
            }
        }

        function changeCartQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(id);
                } else {
                    updateCartUI();
                    renderSidebarCart();
                    if (!document.getElementById('cart-page').classList.contains('hidden')) {
                        renderFullPageCart();
                    }
                }
            }
        }

        function updateCartUI() {
            // עדכון המונה באייקון העגלה
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            const badge = document.getElementById('cart-count');
            
            if (count > 0) {
                badge.textContent = count;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        // פתיחה/סגירה של תפריט הצד
        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('open');
            
            if (sidebar.classList.contains('open')) {
                renderSidebarCart();
            }
        }

        function renderSidebarCart() {
            const container = document.getElementById('cart-items-container');
            const totalEl = document.getElementById('cart-total-sidebar');
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-gray-500 mt-10">
                        <p>הסל שלך ריק כרגע...</p>
                    </div>`;
                totalEl.textContent = '₪0';
                return;
            }

            let total = 0;
            container.innerHTML = cart.map(item => {
                total += item.price * item.quantity;
                return `
                <div class="flex gap-4 items-center bg-white p-2 rounded-lg border border-gray-100">
                    <img src="${item.image}" class="w-16 h-16 object-cover rounded-md" alt="${item.name}">
                    <div class="flex-1">
                        <h4 class="font-bold text-sm text-primary line-clamp-1">${item.name}</h4>
                        <div class="flex justify-between items-center mt-1">
                            <span class="text-accent font-bold text-sm">₪${item.price}</span>
                            <div class="flex items-center border border-gray-200 rounded">
                                <button onclick="changeCartQuantity('${item.id}', -1)" class="px-2 text-gray-500 hover:bg-gray-100 text-xs">-</button>
                                <span class="px-2 text-xs font-medium">${item.quantity}</span>
                                <button onclick="changeCartQuantity('${item.id}', 1)" class="px-2 text-gray-500 hover:bg-gray-100 text-xs">+</button>
                            </div>
                        </div>
                    </div>
                    <button onclick="removeFromCart('${item.id}')" class="text-gray-400 hover:text-red-500 ml-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                    </button>
                </div>
            `}).join('');
            
            totalEl.textContent = '₪' + total.toLocaleString();
        }

        // רנדור דף העגלה המלא
        function renderFullPageCart() {
            const container = document.getElementById('cart-items-full-page');
            const subtotalEl = document.getElementById('subtotal-price');
            const totalEl = document.getElementById('total-price-page');

            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-gray-500 py-10">
                        <p class="text-lg">הסל שלך ריק כרגע</p>
                        <button onclick="showPage('home')" class="mt-4 text-accent font-medium hover:underline">התחל לקנות</button>
                    </div>`;
                subtotalEl.textContent = '₪0';
                totalEl.textContent = '₪0';
                return;
            }

            let total = 0;
            container.innerHTML = cart.map(item => {
                total += item.price * item.quantity;
                return `
                <div class="flex flex-col sm:flex-row items-center gap-6 border-b border-gray-100 pb-6 last:border-0 last:pb-0">
                    <img src="${item.image}" class="w-24 h-24 object-cover rounded-xl" alt="${item.name}">
                    <div class="flex-1 w-full sm:w-auto">
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-lg text-primary">${item.name}</h3>
                            <button onclick="removeFromCart('${item.id}')" class="text-gray-400 hover:text-red-500">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </div>
                        <p class="text-gray-500 text-sm mb-4">מק"ט: ${item.id.toUpperCase()}</p>
                        <div class="flex justify-between items-center">
                            <div class="flex items-center border border-gray-300 rounded-lg">
                                <button onclick="changeCartQuantity('${item.id}', -1)" class="w-8 h-8 flex items-center justify-center text-gray-500 hover:bg-gray-50">-</button>
                                <span class="w-10 text-center font-medium">${item.quantity}</span>
                                <button onclick="changeCartQuantity('${item.id}', 1)" class="w-8 h-8 flex items-center justify-center text-gray-500 hover:bg-gray-50">+</button>
                            </div>
                            <span class="text-xl font-bold text-accent">₪${(item.price * item.quantity).toLocaleString()}</span>
                        </div>
                    </div>
                </div>
            `}).join('');

            subtotalEl.textContent = '₪' + total.toLocaleString();
            totalEl.textContent = '₪' + total.toLocaleString();
        }

        // פונקציית ניווט בין דפים
        function showPage(pageId) {
            // Safe element retrieval helper
            const getEl = (id) => document.getElementById(id);

            // Close sidebar if open
            const sidebar = getEl('cart-sidebar');
            const overlay = getEl('cart-overlay');
            if (sidebar) sidebar.classList.remove('open');
            if (overlay) overlay.classList.remove('open');

            // List of all known pages
            const pages = [
                'home-page', 
                'promo-page', 
                'product-page', 
                'purple-collection-page', 
                'cart-page', 
                'contact-page', 
                'about-page', 
                'category-page',
                'custom-design-page' // Added the new page
            ];

            // Hide all pages safely
            pages.forEach(id => {
                const el = getEl(id);
                if (el) el.classList.add('hidden');
            });
            
            // Show target page
            const targetPage = getEl(pageId + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
                // Special logic for specific pages
                if (pageId === 'cart') {
                    renderFullPageCart();
                } else if (pageId === 'custom-design') {
                    // Initialize or resize 3D scene when showing the page
                    setTimeout(init3D, 100);
                }
                window.scrollTo(0, 0);
            } else {
                console.warn(`Page with id ${pageId}-page not found`);
            }
        }

        // ניהול כמות מוצרים (בדף המוצר)
        function updateQuantity(change) {
            const input = document.getElementById('quantity');
            let currentValue = parseInt(input.value);
            let newValue = currentValue + change;
            
            if (newValue >= 1 && newValue <= 10) {
                input.value = newValue;
            }
        }

        // אפקט זום לתמונה
        function zoomImage(event) {
            const img = document.getElementById('product-img');
            const container = event.currentTarget;
            
            const x = event.clientX - container.getBoundingClientRect().left;
            const y = event.clientY - container.getBoundingClientRect().top;
            
            const xPercent = (x / container.offsetWidth) * 100;
            const yPercent = (y / container.offsetHeight) * 100;

            img.style.transformOrigin = `${xPercent}% ${yPercent}%`;
        }

        function resetZoom(event) {
            const img = document.getElementById('product-img');
            setTimeout(() => {
                img.style.transformOrigin = 'center center';
            }, 100);
        }

        function toggleFaq(button) {
            const content = button.nextElementSibling;
            const icon = button.querySelector('svg');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.parentElement.classList.add('rotate-180');
                button.parentElement.classList.add('ring-2', 'ring-purple-200'); // הדגשה כפתוח
            } else {
                content.classList.add('hidden');
                icon.parentElement.classList.remove('rotate-180');
                button.parentElement.classList.remove('ring-2', 'ring-purple-200');
            }
        }

        // מערכת הודעות Toast
        function showToast(message, type = 'normal') {
            let container = document.getElementById('toast-container');
            if (!container) {
                container = document.createElement('div');
                container.id = 'toast-container';
                container.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col gap-2 pointer-events-none';
                document.body.appendChild(container);
            }

            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-primary text-white' : 'bg-white text-gray-800 border border-gray-200';
            const icon = type === 'success' ? '✨' : 'ℹ️';

            toast.className = `${bgColor} px-6 py-3 rounded-full shadow-lg flex items-center gap-2 toast-notification pointer-events-auto`;
            toast.innerHTML = `<span>${icon}</span><span class="font-medium">${message}</span>`;

            container.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('hiding');
                toast.addEventListener('animationend', () => {
                    toast.remove();
                });
            }, 3000);
        }

        function copyCode(code) {
            navigator.clipboard.writeText(code).then(() => {
                showToast(`הקוד ${code} הועתק!`, 'success');
            });
        }

        // טיפול בשליחת טופס צור קשר
        function handleContactSubmit(event) {
            event.preventDefault(); // מניעת רענון הדף
            
            // כאן בעתיד תתבצע השליחה לשרת
            
            showToast('ההודעה נשלחה בהצלחה! נחזור אליך בהקדם.', 'success');
            event.target.reset(); // ניקוי הטופס
        }

        // --- Three.js Logic (Updated) ---
        let scene, camera, renderer;
        let ringGroup; // A group to hold the ring and gem
        let gemMesh;
        let is3DInitialized = false;

        // Define ring properties for easy access
        const ringProps = {
            radius: 3,
            tube: 0.3,
        };

        function init3D() {
            if (is3DInitialized) {
                // If already initialized, just ensure it's visible and rendering
                animate();
                return;
            }
            const container = document.getElementById('three-container');
            if (!container || !container.isConnected) return;

            // Scene setup
            scene = new THREE.Scene();

            // Camera setup
            camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.set(0, 3, 12);
            camera.lookAt(0, 0, 0);

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true; // Enable shadows for more realism
            container.innerHTML = ''; // Clear previous canvas if any
            container.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.2);
            directionalLight.position.set(8, 10, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            const pointLight = new THREE.PointLight(0xffffff, 0.6);
            pointLight.position.set(-8, 5, -5);
            scene.add(pointLight);

            // Create the group that will hold the ring and gem
            ringGroup = new THREE.Group();
            scene.add(ringGroup);

            // Initial Objects
            createRing(0xffd700); // Yellow gold default
            createGem(0xffffff, 'round'); // Diamond round default

            // Set initial rotation for a better view
            ringGroup.rotation.x = -Math.PI / 6;
            ringGroup.rotation.y = Math.PI / 4;

            is3DInitialized = true;
            animate();
            
            // Handle resize
            const resizeObserver = new ResizeObserver(() => {
                if (!is3DInitialized || !container.isConnected) return;
                const width = container.clientWidth;
                const height = container.clientHeight;
                renderer.setSize(width, height);
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
            });
            resizeObserver.observe(container);
        }

        function createRing(color) {
            // If a ring mesh already exists in the group, remove it
            const existingRing = ringGroup.children.find(child => child.name === "ring");
            if (existingRing) {
                ringGroup.remove(existingRing);
                existingRing.geometry.dispose();
                existingRing.material.dispose();
            }

            const geometry = new THREE.TorusGeometry(ringProps.radius, ringProps.tube, 22, 100);
            const material = new THREE.MeshStandardMaterial({ 
                color: color, 
                metalness: 1.0, 
                roughness: 0.35
            });
            const ringMesh = new THREE.Mesh(geometry, material);
            ringMesh.name = "ring"; // Name the object for easy removal
            ringMesh.rotation.x = Math.PI / 2;
            ringMesh.castShadow = true;
            ringMesh.receiveShadow = true;
            
            ringGroup.add(ringMesh);

            // Prongs (Setting)
            // Creating 4 prongs
            const prongGeo = new THREE.CylinderGeometry(0.08, 0.05, 0.6, 8);
            const prongMat = material; // Reuse same material as ring
            
            // Remove previous prongs if any (checking by name "prongsGroup")
            const oldProngs = ringGroup.children.find(c => c.name === 'prongsGroup');
            if(oldProngs) ringGroup.remove(oldProngs);

            const prongsGroup = new THREE.Group();
            prongsGroup.name = "prongsGroup";
            
            // Add 4 prongs around the top
            for(let i=0; i<4; i++) {
                const prong = new THREE.Mesh(prongGeo, prongMat);
                // Position around the gem (at 0, radius, 0 roughly)
                // We'll place them on a circle of radius ~0.6 (size of gem)
                const angle = (Math.PI / 4) + (i * Math.PI / 2); 
                const dist = 0.55; 
                prong.position.set(Math.cos(angle)*dist, ringProps.radius + 0.1, Math.sin(angle)*dist);
                // Angle them slightly inwards
                prong.lookAt(0, ringProps.radius + 1.5, 0);
                prongsGroup.add(prong);
            }
            ringGroup.add(prongsGroup);
        }

        function createGem(color, shape) {
            // If a gem mesh already exists in the group, remove it
            const existingGem = ringGroup.children.find(child => child.name === "gem");
            if (existingGem) {
                ringGroup.remove(existingGem);
                // Clean up children geometries/materials if it's a group now
                 // But we will make it a single Mesh for simplicity or Group
                // Actually let's make gem a group of crown and pavilion
            }
            
            // Remove old gem group if exists
            const oldGemGroup = ringGroup.children.find(c => c.name === 'gemGroup');
            if(oldGemGroup) ringGroup.remove(oldGemGroup);


            const material = new THREE.MeshPhysicalMaterial({
                color: color,
                metalness: 0.1,
                roughness: 0.05,
                transmission: 0.9, // Glass-like transparency
                opacity: 0.9,
                reflectivity: 0.9,
                ior: 2.4, // Index of Refraction for diamond
                transparent: true,
            });

            const gemGroup = new THREE.Group();
            gemGroup.name = "gemGroup";

            let crownGeo, pavilionGeo;
            const size = 0.8; 

            if (shape === 'round') {
                // Crown: Cylinder tapering to top (or Cone)
                // Pavilion: Cone
                crownGeo = new THREE.CylinderGeometry(0.3, size/2, 0.2, 32);
                pavilionGeo = new THREE.ConeGeometry(size/2, 0.5, 32);
            } else if (shape === 'square') {
                crownGeo = new THREE.CylinderGeometry(0.3, size/2, 0.2, 4);
                pavilionGeo = new THREE.ConeGeometry(size/2, 0.5, 4);
                gemGroup.rotation.y = Math.PI / 4;
            } else { // emerald (rectangularish)
                // Box geometry for emerald cut simplified
                 crownGeo = new THREE.BoxGeometry(size*0.7, 0.2, size);
                 pavilionGeo = new THREE.ConeGeometry(size*0.6, 0.5, 4); // simplistic
                 // Actually just using box for emerald visual distinction
                 crownGeo = new THREE.BoxGeometry(0.5, 0.2, 0.8);
                 pavilionGeo = new THREE.BoxGeometry(0.3, 0.4, 0.6); // fake depth
            }

            const crown = new THREE.Mesh(crownGeo, material);
            const pavilion = new THREE.Mesh(pavilionGeo, material);
            
            // Position parts
            crown.position.y = 0.1; // Move up
            pavilion.geometry.rotateX(Math.PI); // Flip cone
            pavilion.position.y = -0.25; // Move down

            gemGroup.add(crown);
            gemGroup.add(pavilion);

            // Position entire gem on ring
            gemGroup.position.set(0, ringProps.radius + 0.35, 0);
            
            // Apply scale
            const currentScale = parseFloat(document.getElementById('carat-val')?.innerText || "1.0");
            gemGroup.scale.set(currentScale, currentScale, currentScale);
            
            gemMesh = gemGroup; // Reference for updates
            ringGroup.add(gemGroup);
        }

        function updateGemMaterial(color) {
            if (gemMesh) {
                gemMesh.children.forEach(child => {
                    child.material.color.setHex(color);
                });
            }
        }

        function updateRingMaterial(color) {
            const ringMesh = ringGroup.children.find(child => child.name === "ring");
            if (ringMesh) {
                ringMesh.material.color.setHex(color);
                // Also update prongs
                const prongsGroup = ringGroup.children.find(c => c.name === "prongsGroup");
                if(prongsGroup) {
                     prongsGroup.children.forEach(p => p.material.color.setHex(color));
                }
            }
        }

        function updateGemGeometry(shape) {
            // Get current color
            let currentColor = 0xffffff;
            if (gemMesh && gemMesh.children[0]) {
                 currentColor = gemMesh.children[0].material.color.getHex();
            }
            createGem(currentColor, shape);
        }

        function updateGemScale(val) {
            if (gemMesh) {
                const scale = parseFloat(val);
                gemMesh.scale.set(scale, scale, scale);
            }
        }

        function animate() {
            // Only continue animation loop if the 3D container is on the page
            if (!document.getElementById('three-container')?.isConnected) {
                is3DInitialized = false; // Stop animation loop
                if(renderer) {
                    renderer.dispose(); // Clean up resources
                }
                return;
            }
            
            requestAnimationFrame(animate);
            
            // Rotate the whole group together
            if (ringGroup) {
                ringGroup.rotation.y += 0.005;
            }

            renderer.render(scene, camera);
        }
    </script>

</body>
</html>